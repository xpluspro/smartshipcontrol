!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).AmapReact={},e.React,e.ReactDom)}(this,(function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(t),i={_prefix:"https://webapi.amap.com/maps",_disableMapCache:!1,verbose:!1,timing:!1,version:"2.0",key:"",plugins:[],PACKAGE_VERSION:"0.1.5"};var u=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}(),a={ready:!1,loaded:!1},c=u.promise;function s(){if(!a.loaded){if(a.loaded=!0,window.AMap)return u.resolve(window.AMap),c;var e=document.createElement("script"),t="amap_react_"+Date.now()+"_"+Math.ceil(1e4*Math.random());window[t]=function(){a.ready||(a.ready=!0,u.resolve(window.AMap))};var n=function(e){var t=[];for(var n in e)void 0!==e[n]&&null!==e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}({v:i.version,key:i.key,callback:t,plugin:i.plugins.join(",")}),r=i._prefix+"?"+n;e.src=r,document.body.appendChild(e)}return c}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function y(e){return l(this,void 0,void 0,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return[4,s()];case 1:return t=n.sent(),[2,new Promise((function(n){t.plugin(e,(function(){n(window.AMap)}))}))]}}))}))}function g(e,n,r){t.useEffect((function(){if(e){var t=function(t){r&&r(e,t)};return e.on(n,t),function(){e.off(n,t)}}}),[e,n,r])}function m(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function h(e,t){return e===t}function b(e,t){return!(!e&&t)&&(!(e&&!t)&&(e===t||e.length===t.length&&e.every((function(e,n){return e===t[n]}))))}function w(e,t){return!(!e&&t)&&(!(e&&!t)&&(e===t||e[0]===t[0]&&e[1]===t[1]))}function M(e,t){if(!e&&t)return!1;if(e&&!t)return!1;if(!e&&!t)return!0;if(e===t)return!0;if(e.length!==t.length)return!1;var n=m(e);return!!b(n,m(t))&&(2===n.length?e.every((function(e,n){return w(e,t[n])})):3===n.length&&e.every((function(e,n){return M(e,t)})))}function E(e,t,n){return void 0===n&&(n=1e-7),e===t||void 0!==e&&(void 0!==t&&Math.abs(e-t)<n)}function A(e,t){return e===t||void 0!==e&&(void 0!==t&&(E(e[0],t[0])&&E(e[1],t[1])))}function C(e,t){return null!=t&&e instanceof t}function O(e,t,n,r,o){"object"==typeof t&&(n=t.depth,r=t.prototype,o=t.includeNonEnumerable,t=t.circular);var i=[],u=[];return void 0===t&&(t=!0),void 0===n&&(n=1/0),function e(n,a){if(null===n)return null;if(0===a)return n;var c,s;if("object"!=typeof n)return n;if(C(n,Map))c=new Map;else if(C(n,Set))c=new Set;else if(C(n,Promise))c=new Promise((function(t,r){n.then((function(n){t(e(n,a-1))}),(function(t){r(e(t,a-1))}))}));else if(O.__isArray(n))c=[];else if(O.__isRegExp(n))c=new RegExp(n.source,k(n)),n.lastIndex&&(c.lastIndex=n.lastIndex);else if(O.__isDate(n))c=new Date(n.getTime());else if(C(n,Error))c=Object.create(n);else if(void 0===r){if(C(s=Object.getPrototypeOf(n),Object))return n;c=Object.create(s)}else c=Object.create(r),s=r;if(t){var f=i.indexOf(n);if(-1!=f)return u[f];i.push(n),u.push(c)}for(var l in C(n,Map)&&n.forEach((function(t,n){var r=e(n,a-1),o=e(t,a-1);c.set(r,o)})),C(n,Set)&&n.forEach((function(t){var n=e(t,a-1);c.add(n)})),n){Object.getOwnPropertyDescriptor(n,l)&&(c[l]=e(n[l],a-1));try{if(void 0===Object.getOwnPropertyDescriptor(n,l).set)continue;c[l]=e(n[l],a-1)}catch(e){if(e instanceof TypeError)continue;if(e instanceof ReferenceError)continue}}if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);for(l=0;l<d.length;l++){var v=d[l];(!(y=Object.getOwnPropertyDescriptor(n,v))||y.enumerable||o)&&(c[v]=e(n[v],a-1),Object.defineProperty(c,v,y))}}if(o){var p=Object.getOwnPropertyNames(n);for(l=0;l<p.length;l++){var y,g=p[l];(y=Object.getOwnPropertyDescriptor(n,g))&&y.enumerable||(c[g]=e(n[g],a-1),Object.defineProperty(c,g,y))}}return c}(e,n)}function P(e){return Object.prototype.toString.call(e)}function k(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}function j(e,n,r){t.useLayoutEffect((function(){if(e&&void 0!==r){var t=n.setter,o=n.getter,i=n.validate,u=void 0===i?function(){return!0}:i,a=n.equals,c=void 0===a?h:a,s=n.clone,f=void 0!==s&&s;if(t&&u(r)){if(o){var l=function(e,t){return"function"==typeof t?t(e):e[t]()}(e,o);if(!!c(r,l))return}var d=f?O(r):r;!function(e,t,n){if(t)"function"==typeof t?t(e,n):"function"==typeof e[t]&&e[t](n)}(e,t,d)}}}),[e,r])}function x(e){return e?Array.isArray(e)?[e[0],e[1]]:[e.lng,e.lat]:[]}function S(e){return Array.isArray(e)?e:e.southWest?[[e.southWest.lng,e.southWest.lat],[e.northEast.lng,e.northEast.lat]]:[[e.southwest.lng,e.southwest.lat],[e.northeast.lng,e.northeast.lat]]}function L(e){var t=new window.AMap.LngLat(e[0][0],e[0][1]),n=new window.AMap.LngLat(e[1][0],e[1][1]);return new window.AMap.Bounds(t,n)}function R(e){if(!Array.isArray(e))return[];var t=m(e);return 1===t.length||2===t.length?e.map(x):3===t.length?e.map((function(e){return e.map(x)})):[]}O.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},O.__objToStr=P,O.__isDate=function(e){return"object"==typeof e&&"[object Date]"===P(e)},O.__isArray=function(e){return"object"==typeof e&&"[object Array]"===P(e)},O.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===P(e)},O.__getRegExpFlags=k;var I=["children","lifeCycle","ref"];function T(e,t,n,r){void 0===t&&(t=!0),void 0===n&&(n=[]),void 0===r&&(r=[]);for(var o={},i=Object.keys(e),u=function(u){var a=i[u],c=e[a],s=I.some((function(e){return e===a}));return"extraOptions"===a?(Object.assign(o,c),"continue"):s||r.includes(a)||t&&/^on[A-Z]/.test(a)&&"function"==typeof c&&!n.includes(a)?"continue":void(o[a]=c)},a=0;a<i.length;++a)u(a);return o}function D(e,t,n,r){var o;"function"==typeof e[n]?e[n](r):"function"==typeof e.setOptions&&e.setOptions(((o={})[t]=r,o))}function _(e){return function(t,n){var r;t.setOptions(((r={})[e]=n,r))}}function z(e){var n=p(t.useState(void 0),2),r=n[0],o=n[1];return t.useEffect((function(){e().then((function(e){return o(e)}))}),[]),r}function q(e){var n,r=(n=p(t.useState(0),2)[1],t.useCallback((function(){return n((function(e){return e+1}))}),[]));return t.useMemo((function(){var t=e;return{get current(){return t},set current(e){e&&(t=e,r())}}}),[])}var B=o.default.createContext(void 0),H=t.forwardRef((function(e,n){var r=t.useRef(null),i=q(),u=z((function(){return s()}));t.useEffect((function(){if(u){var t=r.current;if(t){var n=f({},T(e)),o=e.center;Array.isArray(o)&&(n.center=O(o)),i.current=new u.Map(t,n)}return function(){i.current&&i.current.destroy()}}}),[u]);var a=i.current;return t.useImperativeHandle(n,(function(){return a}),[a]),j(a,{getter:function(e){return x(e.getCenter())},equals:A,setter:function(e,t){e.setCenter(t)}},e.center),j(a,{getter:"getZoom",equals:E,setter:"setZoom"},e.zoom),j(a,{getter:"getRotation",equals:E,setter:"setRotation"},e.rotation),j(a,{getter:"getPitch",equals:E,setter:"setPitch"},e.pitch),j(a,{setter:"setFeatures"},e.features),j(a,{setter:N("dragEnable")},e.dragEnable),j(a,{setter:N("zoomEnable")},e.zoomEnable),j(a,{setter:N("jogEnable")},e.jogEnable),j(a,{setter:N("pitchEnable")},e.pitchEnable),j(a,{setter:N("rotateEnable")},e.rotateEnable),j(a,{setter:N("animateEnable")},e.animateEnable),j(a,{setter:N("keyboardEnable")},e.keyboardEnable),j(a,{setter:N("doubleClickZoom")},e.doubleClickZoom),j(a,{setter:N("scrollWheel")},e.scrollWheel),j(a,{setter:"setDefaultCursor"},e.defaultCursor),j(a,{setter:"setMapStyle"},e.mapStyle),j(a,{setter:N("showIndoorMap")},e.showIndoorMap),g(a,"resize",e.onResize),g(a,"complete",e.onComplete),g(a,"click",e.onClick),g(a,"dblclick",e.onDblClick),g(a,"mapmove",e.onMapMove),g(a,"hotspotclick",e.onHotspotClick),g(a,"hotspotover",e.onHotspotOver),g(a,"hotspotout",e.onHotspotOut),g(a,"movestart",e.onMoveStart),g(a,"moveend",e.onMoveEnd),g(a,"zoomchange",e.onZoomChange),g(a,"zoomstart",e.onZoomStart),g(a,"zoomend",e.onZoomEnd),g(a,"mousemove",e.onMouseMove),g(a,"mousewheel",e.onMouseWheel),g(a,"mouseover",e.onMouseOver),g(a,"mouseout",e.onMouseOut),g(a,"mouseup",e.onMouseUp),g(a,"mousedown",e.onMouseDown),g(a,"rightclick",e.onRightClick),g(a,"dragstart",e.onDragStart),g(a,"dragging",e.onDragging),g(a,"dragend",e.onDragEnd),g(a,"touchstart",e.onTouchStart),g(a,"touchmove",e.onTouchMove),g(a,"touchend",e.onTouchEnd),o.default.createElement("div",{ref:r,className:"amap-react",style:{position:"relative",width:"100%",height:"100%"}},o.default.createElement(B.Provider,{value:a},e.children))}));function N(e){return function(t,n){var r;t.setStatus(((r={})[e]=n,r))}}function W(){return t.useContext(B)}function U(e){return z((function(){return y(e).then((function(){return window.AMap}))}))}H.AmapContext=B;t.createContext(void 0);function Z(e,n){var r=e.init,o=e.destroy,i=void 0===o?function(e){"function"==typeof e.destroy&&e.destroy()}:o,u=e.add,a=void 0===u?function(e,t){"function"==typeof t.setMap&&t.setMap(e)}:u,c=e.remove,s=void 0===c?function(e,t){"function"==typeof t.setMap&&t.setMap(null)}:c,f=e.prepare,l=void 0===f?function(){return Promise.resolve()}:f,d=W(),v=p(t.useState(!1),2),y=v[0],g=v[1],m=p(t.useState(),2),h=m[0],b=m[1];return t.useEffect((function(){l().then((function(){return g(!0)}))}),[]),t.useEffect((function(){if(y&&d){var e=n.lifeCycle,t=r(AMap,d);return a(d,t),b(t),e&&e.created&&e.created(t),function(){s(d,t),e&&e.beforeDestroy&&e.beforeDestroy(t),i(t)}}}),[y,d]),h}var F=["top-left","top-center","top-right","middle-left","center","middle-right","bottom-left","bottom-center","bottom-right"],G=["miter","round","bevel"],J=["butt","round","square"],K=["solid","dashed"];function V(e,t,n,r){void 0===n&&(n="show"),void 0===r&&(r="hide"),j(e,{setter:function(e,t){t?"function"==typeof n?n(e):e[n]():"function"==typeof r?r(e):e[r]()}},t.visible)}function Y(e,t){j(e,{setter:function(e,t){D(e,"zIndex","setzIndex",t)}},t.zIndex)}var Q=_("bubble");function X(e,t){g(e,"click",t.onClick)}function $(e,t){g(e,"mousemove",t.onMouseMove),g(e,"mouseover",t.onMouseOver),g(e,"mouseout",t.onMouseOut),g(e,"mousedown",t.onMouseDown),g(e,"mouseup",t.onMouseUp)}function ee(e,t){g(e,"touchstart",t.onTouchStart),g(e,"touchmove",t.onTouchMove),g(e,"touchend",t.onTouchEnd)}function te(e,t){V(e,t),Y(e,t),function(e,t){j(e,{setter:Q},t.bubble)}(e,t),function(e,t){j(e,{setter:function(e,t){D(e,"cursor","setCursor",t)}},t.cursor)}(e,t),function(e,t){X(e,t),j(e,{setter:"setClickable"},t.clickable),g(e,"dblclick",t.onDblClick),g(e,"rightclick",t.onRightClick)}(e,t),function(e,t){j(e,{setter:"setDraggable"},t.draggable),g(e,"dragstart",t.onDragStart),g(e,"dragging",t.onDragging),g(e,"dragend",t.onDragEnd)}(e,t),$(e,t),ee(e,t)}var ne=_("strokeColor"),re=_("strokeOpacity"),oe=_("strokeWeight"),ie=_("strokeStyle"),ue=_("strokeDasharray");function ae(e,t){te(e,t),j(e,{setter:ne},t.strokeColor),j(e,{setter:re},t.strokeOpacity),j(e,{setter:oe},t.strokeWeight),j(e,{setter:ie,validate:function(e){return K.includes(e)}},t.strokeStyle),j(e,{setter:ue,equals:b},t.strokeDasharray)}var ce=_("lineJoin"),se=_("lineCap"),fe=_("showDir"),le=_("dirColor"),de=_("dirImg"),ve=_("isOutline"),pe=_("outlineColor"),ye=_("borderWeight"),ge=_("geodesic");function me(e,t){ae(e,t),j(e,{setter:ce,validate:function(e){return G.includes(e)}},t.lineJoin),j(e,{setter:se,validate:function(e){return J.includes(e)}},t.lineCap),j(e,{setter:fe},t.showDir),j(e,{setter:le},t.dirColor),j(e,{setter:de},t.dirImg),j(e,{setter:ve},t.isOutline),j(e,{setter:pe},t.outlineColor),j(e,{setter:ye},t.borderWeight),j(e,{setter:ge},t.geodesic)}var he="undefined"!=typeof BigInt64Array;function be(e,t){var n,r,o,i,u,a;if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){var c=e.length;if(c!=t.length)return!1;for(var s=c;0!=s--;)if(!be(e[s],t[s]))return!1;return!0}if(e instanceof Map){if(e.size!==t.size)return!1;try{for(var f=v(e.entries()),l=f.next();!l.done;l=f.next()){s=l.value;if(!t.has(s[0]))return!1}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var d=v(e.entries()),p=d.next();!p.done;p=d.next()){if(!be((s=p.value)[1],t.get(s[0])))return!1}}catch(e){o={error:e}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return!0}if(e instanceof Set){if(e.size!==t.size)return!1;try{for(var y=v(e.entries()),g=y.next();!g.done;g=y.next()){s=g.value;if(!t.has(s[0]))return!1}}catch(e){u={error:e}}finally{try{g&&!g.done&&(a=y.return)&&a.call(y)}finally{if(u)throw u.error}}return!0}if(e.constructor.BYTES_PER_ELEMENT&&(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array||he&&(e instanceof BigInt64Array||e instanceof BigUint64Array))){var m=e.length;if(m!=t.length)return!1;for(s=m;0!=s--;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var h=Object.keys(e),b=h.length;if(b!==Object.keys(t).length)return!1;for(s=b;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,h[s]))return!1;for(s=b;0!=s--;){var w=h[s];if(!be(e[w],t[w]))return!1}return!0}return e!=e&&t!=t}function we(e){return e||[]}function Me(e,n){var r=U(e.plugins),i=p(function(){var e=q(),n=t.useMemo((function(){var t={created:function(t){e.current=t},beforeDestroy:function(t){e.current=void 0}};return function(e){var n=o.default.Children.only(e.children);return n?o.default.cloneElement(n,{lifeCycle:t}):null}}),[]);return[e.current,n]}(),2),u=i[0],a=i[1],c=q();return t.useEffect((function(){var t=c.current;if(r)if(u){if(!t){var o=e.init(u);return c.current=o,void o.on(e.events,(function(e){var t=n.onChange;(void 0===t?function(){}:t)(e.target)}))}n.enabled?t.open():t.close()}else t&&("function"==typeof t.destroy&&t.destroy(),c.current=void 0)}),[r,u,c.current,n.enabled]),t.useEffect((function(){return function(){var e=c.current;e&&("function"==typeof e.destroy&&e.destroy(),c.current=void 0)}}),[]),[c.current,a]}function Ee(e,t){j(e,{setter:function(e,t){D(e,"opacity","setOpacity",t)}},t.opacity)}function Ae(e,t){j(e,{equals:w,setter:function(e,t){D(e,"zooms","setZooms",t)}},t.zooms)}function Ce(e,t){V(e,t),Y(e,t),Ee(e,t),Ae(e,t)}var Oe=o.default.forwardRef((function(e,n){var r=Z({init:function(t,n){var r=f(f({},T(e)),{bounds:L(e.bounds)});return new t.CanvasLayer(r)}},e);return t.useImperativeHandle(n,(function(){return r}),[r]),Ce(r,e),j(r,{setter:function(e,t){e.setBounds(L(t))},clone:!0},e.bounds),j(r,{setter:"setCanvas"},e.canvas),null})),Pe=_("fillColor"),ke=_("fillOpacity");function je(e,t){ae(e,t),j(e,{setter:Pe},t.fillColor),j(e,{setter:ke},t.fillOpacity)}function xe(e,t){je(e,t),j(e,{getter:function(e){return x(e.getCenter())},setter:function(e,n){if(n){if(t.draggable)if(A(n,x(e.getCenter())))return;e.setCenter([n[0],n[1]])}},clone:!0,equals:w},t.center),j(e,{setter:"setRadius"},t.radius)}function Se(e,t){var n=Z(f(f({},e),{add:function(e,t){e.addControl(t)},remove:function(e,t){e.removeControl(t)}}),t);return V(n,t),n}var Le=o.default.forwardRef((function(e,n){var r=Se({prepare:function(){return y("AMap.ControlBar")},init:function(t){var n=T(e);return new t.ControlBar(n)}},e);return t.useImperativeHandle(n,(function(){return r}),[r]),null}));function Re(e,t){V(e,t),Y(e,t),Ee(e,t),Ae(e,t),j(e,{setter:"setStyles"},t.styles)}var Ie=o.default.forwardRef((function(e,n){var r=Z({prepare:function(){return y("AMap.DistrictLayer")},init:function(t){var n=f({},T(e));return"soc"in n&&(n.SOC=n.soc,delete n.soc),new t.DistrictLayer.Country(n)}},e);return t.useImperativeHandle(n,(function(){return r}),[r]),Re(r,e),j(r,{setter:"setSOC"},e.soc),null})),Te=o.default.forwardRef((function(e,n){var r=Z({init:function(t,n){var r=document.createElement("canvas"),o=f(f({},T(e)),{render:function(){return e.render(r,n)}});return new t.CustomLayer(r,o)}},e);return t.useImperativeHandle(n,(function(){return r}),[r]),Ce(r,e),null}));function De(e,t){V(e,t),Y(e,t),Ee(e,t),Ae(e,t)}var _e=o.default.forwardRef((function(e,n){var r=Se({prepare:function(){return y("AMap.HawkEye")},init:function(t){var n=T(e);return new t.HawkEye(n)}},e);return t.useImperativeHandle(n,(function(){return r}),[r]),j(r,{setter:function(e,t){t?e.open():e.close()}},e.isOpen),null})),ze=t.forwardRef((function(e,r){var o=W(),i=e.visible,u=void 0===i||i,a=t.useMemo((function(){return document.createElement("div")}),[]),c=Z({init:function(t){var n=f(f({},T(e,!0,[],["className","style"])),{position:O(e.position)});return new t.InfoWindow(n)},add:function(e,t){if(t.setMap(e),u){var n=x(t.getPosition());t.open(e,n)}}},e);return t.useImperativeHandle(r,(function(){return c}),[c]),t.useEffect((function(){a.className=e.className||""}),[e.className]),t.useEffect((function(){a.style.cssText="",Object.assign(a.style,e.style)}),[e.style]),j(c,{setter:function(e,t){e.setSize(new AMap.Size(t[0],t[1]))}},e.size),j(c,{setter:"setAnchor",validate:function(e){return F.includes(e)}},e.anchor),j(c,{setter:function(e,t){e.setOffset(new window.AMap.Pixel(t[0],t[1]))}},e.offset),j(c,{getter:function(e){return x(e.getPosition())},equals:A,setter:function(e,t){e.getIsOpen()?e.open(e.getMap(),t):e.setPosition(t)}},e.position),j(c,{setter:function(t,n){e.isCustom||t.setContent(n)}},e.content),j(c,{setter:function(e,t){if(o)if(t){var n=x(e.getPosition());e.open(o,n)}else e.close()}},e.visible),g(c,"open",e.onOpen),g(c,"close",e.onClose),e.isCustom?(c&&(c.setContent(a),u&&c.open(c.getMap(),e.position)),n.createPortal(e.children,a)):null})),qe=o.default.createContext(void 0),Be=t.forwardRef((function(e,n){var r=t.useContext(qe),o=Z({init:function(t){return new t.LabelMarker(f(f({},T(e)),{position:O(e.position)}))},add:function(e,t){if(!r)throw new Error("LabelMarker 必须与 LabelsLayer 配合使用");r.add(t)},remove:function(e,t){if(!r)throw new Error("LabelMarker 必须与 LabelsLayer 配合使用");r.remove(t)}},e);return t.useImperativeHandle(n,(function(){return o}),[o]),V(o,e),Y(o,e),Ee(o,e),Ae(o,e),X(o,e),$(o,e),ee(o,e),j(o,{setter:"setName"},e.name),j(o,{setter:"setRank"},e.rank),j(o,{equals:w,setter:function(e,t){t&&(A(t,x(e.getPosition()))||e.setPosition([t[0],t[1]]))}},e.position),j(o,{setter:"setIcon"},e.icon),j(o,{setter:"setText"},e.text),null})),He=o.default.forwardRef((function(e,n){var r=Se({prepare:function(){return y("AMap.MapType")},init:function(t){var n=T(e);return new t.MapType(n)}},e);return t.useImperativeHandle(n,(function(){return r}),[r]),null}));function Ne(e,t){te(e,t),Ae(e,t),j(e,{getter:function(e){return x(e.getPosition())},equals:A,setter:function(e,t){e.setPosition(t)}},t.position),j(e,{setter:"setTitle"},t.title),j(e,{equals:w,setter:function(e,t){var n;t&&(A(t,(n=e.getOffset(),Array.isArray(n)?[n[0],n[1]]:[n.x,n.y]))||e.setOffset(new window.AMap.Pixel(t[0],t[1])))}},t.offset),j(e,{setter:"setAnchor",validate:function(e){return F.includes(e)}},t.anchor),j(e,{equals:E,setter:"setAngle",getter:"getAngle"},t.angle),g(e,"moving",t.onMoving),g(e,"moveend",t.onMoveEnd),g(e,"movealong",t.onMoveAlong)}var We=t.forwardRef((function(e,r){var o=t.useMemo((function(){return document.createElement("div")}),[]),i=Z({init:function(t){var n=e.position,r=f(f({},T(e)),{position:O(n)});return r.icon&&(r.icon=Ue(r.icon)),new t.Marker(r)},destroy:function(e){e&&"function"==typeof e.stopMove&&e.stopMove()}},e);return t.useImperativeHandle(r,(function(){return i}),[i]),t.useEffect((function(){o.className=e.className||""}),[e.className]),t.useEffect((function(){o.style.cssText="",Object.assign(o.style,e.style)}),[e.style]),Ne(i,e),j(i,{setter:function(e,t){if(t){var n=Ue(t);e.setIcon(n)}}},e.icon),j(i,{setter:function(e,t){t&&e.setLabel(function(e){if(!e)return;var t=f({},e);Array.isArray(t.offset)&&(t.offset=new window.AMap.Pixel(t.offset[0],t.offset[1]));return t}(t))}},e.label),e.children?(i&&i.setContent(o),n.createPortal(e.children,o)):null}));function Ue(e){return"string"==typeof e?e:new window.AMap.Icon(e)}function Ze(e,t){j(e,{setter:function(e,n){if(t.draggable&&M(R(e.getPath()),n))return;e.setPath(n)},getter:function(e){return R(e.getPath())},clone:!0,equals:M},t.path)}var Fe=o.default.forwardRef((function(e,n){var r=Z({prepare:function(){return y("AMap.DistrictLayer")},init:function(t){var n=f({},T(e));return new t.DistrictLayer.Province(n)}},e);return t.useImperativeHandle(n,(function(){return r}),[r]),Re(r,e),j(r,{setter:"setAdcode",equals:function(e,t){return e===t||!(!Array.isArray(e)||!Array.isArray(t))&&b(e,t)}},e.adcode),null}));function Ge(e,t){return!(!e||!t)&&(E(e[0][0],t[0][0])&&E(e[0][1],t[0][1])&&E(e[1][0],t[1][0])&&E(e[1][1],t[1][1]))}var Je=o.default.forwardRef((function(e,n){var r=Se({prepare:function(){return y("AMap.Scale")},init:function(t){var n=T(e);return new t.Scale(n)}},e);return t.useImperativeHandle(n,(function(){return r}),[r]),null})),Ke=o.default.forwardRef((function(e,n){var r=Se({prepare:function(){return y("AMap.ToolBar")},init:function(t){var n=T(e);return new t.ToolBar(n)}},e);return t.useImperativeHandle(n,(function(){return r}),[r]),null})),Ve=o.default.forwardRef((function(e,n){var r=Z({prepare:function(){return y("AMap.DistrictLayer")},init:function(t){var n=f({},T(e));return new t.DistrictLayer.World(n)}},e);return t.useImperativeHandle(n,(function(){return r}),[r]),Re(r,e),null}));e.Amap=H,e.BezierCurve=function(e){var t=Z({init:function(t){var n=f({},T(e));return new t.BezierCurve(n)}},e);return me(t,e),j(t,{setter:function(t,n){if(e.draggable&&be(we(t.getPath()),n))return;t.setPath(n)},getter:function(e){return we(e.getPath())},clone:!0,equals:be},e.path),o.default.createElement("div",{className:"amap-react-placeholder bezier-curve",style:{display:"none"}})},e.BezierCurveEditor=function(e){var t=p(Me({plugins:"AMap.BezierCurveEditor",events:["addnode","adjust","removenode","add"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.BezierCurveEditor(t.getMap(),t,r)}},e),2)[1];return o.default.createElement(t,f({},e))},e.CanvasLayer=Oe,e.Circle=function(e){return xe(Z({init:function(t){var n=f({},T(e));return new t.Circle(n)}},e),e),null},e.CircleEditor=function(e){var t=p(Me({plugins:"AMap.CircleEditor",events:["addnode","adjust","move","add","end"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.CircleEditor(t.getMap(),t,r)}},e),2)[1];return o.default.createElement(t,f({},e))},e.CircleMarker=function(e){return xe(Z({init:function(t){var n=f({},T(e));return new t.CircleMarker(n)}},e),e),null},e.ControlBar=Le,e.CountryLayer=Ie,e.CustomLayer=Te,e.Ellipse=function(e){var t=Z({init:function(t){var n=f({},T(e));return new t.Ellipse(n)}},e);return je(t,e),j(t,{setter:function(t,n){if(e.draggable&&A(n,x(t.getCenter())))return;t.setCenter(n)},getter:function(e){return x(e.getCenter())},clone:!0,equals:A},e.center),j(t,{setter:function(e,t){A(t,e.getRadius())||e.setRadius(t)},clone:!0,equals:A},e.radius),null},e.EllipseEditor=function(e){var t=p(Me({plugins:"AMap.EllipseEditor",events:["addnode","adjust","move","add","end"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.EllipseEditor(t.getMap(),t,r)}},e),2)[1];return o.default.createElement(t,f({},e))},e.FlexibleLayer=function(e){return De(Z({init:function(t){var n=f({},T(e));return new t.TileLayer.Flexible(n)}},e),e),null},e.HawkEye=_e,e.ImageLayer=function(e){var t=Z({init:function(t){var n=f(f({},T(e)),{bounds:L(e.bounds)});return new t.ImageLayer(n)}},e);return Ce(t,e),j(t,{setter:function(e,t){e.setBounds(L(t))},clone:!0},e.bounds),j(t,{setter:"setImageUrl"},e.url),null},e.InfoWindow=ze,e.LabelMarker=Be,e.LabelsLayer=function(e){var t=Z({init:function(t){var n=f({},T(e));return new t.LabelsLayer(n)}},e);return V(t,e),Y(t,e),Ee(t,e),Ae(t,e),j(t,{setter:"setCollision"},e.collision),j(t,{setter:"setAllowCollision"},e.allowCollision),o.default.createElement(qe.Provider,{value:t},t&&e.children)},e.MapType=He,e.Marker=We,e.Polygon=function(e){var t=Z({init:function(t){var n=f({},T(e));return new t.Polygon(n)}},e);return je(t,e),Ze(t,e),null},e.PolygonEditor=function(e){var t=p(Me({plugins:"AMap.PolygonEditor",events:["addnode","adjust","move","add","end"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.PolygonEditor(t.getMap(),t,r)}},e),2)[1];return o.default.createElement(t,f({},e))},e.Polyline=function(e){var t=Z({init:function(t){var n=f({},T(e));return new t.Polyline(n)}},e);return me(t,e),Ze(t,e),null},e.PolylineEditor=function(e){var t=p(Me({plugins:"AMap.PolylineEditor",events:["addnode","adjust","removenode","add","end"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.PolylineEditor(t.getMap(),t,r)}},e),2)[1];return o.default.createElement(t,f({},e))},e.ProvinceLayer=Fe,e.Rectangle=function(e){var t=Z({init:function(t){var n=f(f({},T(e)),{bounds:L(e.bounds)});return new t.Rectangle(n)}},e);return je(t,e),j(t,{setter:function(t,n){if(e.draggable&&Ge(S(t.getBounds()),n))return;t.setBounds(L(n))},getter:function(e){return S(e.getBounds())},clone:!0,equals:Ge},e.bounds),null},e.RectangleEditor=function(e){var t=p(Me({plugins:"AMap.RectangleEditor",events:["addnode","adjust","move","add","end"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.RectangleEditor(t.getMap(),t,r)}},e),2)[1];return o.default.createElement(t,f({},e))},e.RoadNetLayer=function(e){return De(Z({init:function(t){var n=f({},T(e));return new t.TileLayer.RoadNet(n)}},e),e),null},e.SatelliteLayer=function(e){return De(Z({init:function(t){var n=f({},T(e));return new t.TileLayer.Satellite(n)}},e),e),null},e.Scale=Je,e.Text=function(e){var t=Z({init:function(t){var n=f({},T(e));return new t.Text(n)},destroy:function(e){e&&"function"==typeof e.stopMove&&e.stopMove()}},e);return Ne(t,e),j(t,{setter:"setText"},e.text),j(t,{setter:"setStyle"},e.style),null},e.TileLayer=function(e){var t=Z({init:function(t){var n=f({},T(e));return new t.TileLayer(n)}},e);return De(t,e),j(t,{setter:"setTileUrl"},e.tileUrl),null},e.Toolbar=Ke,e.TrafficLayer=function(e){return De(Z({init:function(t){var n=f({},T(e));return new t.TileLayer.Traffic(n)}},e),e),null},e.WorldLayer=Ve,e.config=i,e.loadAmap=s,e.loadPlugins=y,e.useAmap=W,e.useAmapComponent=function(e,n){void 0===n&&(n=[]);var r=p(t.useState(null),2),o=r[0],i=r[1],u=U(n),a=W();return t.useLayoutEffect((function(){if(a&&u){var t=e(u,a),n=Array.isArray(t)?t[0]:t,r=Array.isArray(t)?t[1]:function(){"function"==typeof n.hide&&n.hide(),"function"==typeof n.setMap&&n.setMap(null),a.remove(n)};return i(n),function(){r(),i(null)}}}),[a,u]),o},e.useAmapEvents=function(e,n){var r=W();t.useEffect((function(){if(r){var t=function(e){n(r,e)};Array.isArray(e)||(e=[e]);for(var o=0;o<e.length;o++)r.on(e[o],t);return function(){for(var n=0;n<e.length;n++)r.off(e[n],t)}}}),[r])},e.usePlugins=U,Object.defineProperty(e,"__esModule",{value:!0})}));

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("react-dom");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),o={_prefix:"https://webapi.amap.com/maps",_disableMapCache:!1,verbose:!1,timing:!1,version:"2.0",key:"",plugins:[],PACKAGE_VERSION:"0.1.5"};var i=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}(),u={ready:!1,loaded:!1},a=i.promise;function s(){if(!u.loaded){if(u.loaded=!0,window.AMap)return i.resolve(window.AMap),a;var e=document.createElement("script"),t="amap_react_"+Date.now()+"_"+Math.ceil(1e4*Math.random());window[t]=function(){u.ready||(u.ready=!0,i.resolve(window.AMap))};var n=function(e){var t=[];for(var n in e)void 0!==e[n]&&null!==e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}({v:o.version,key:o.key,callback:t,plugin:o.plugins.join(",")}),r=o._prefix+"?"+n;e.src=r,document.body.appendChild(e)}return a}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function f(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}s((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function v(e){return f(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,s()];case 1:return t=n.sent(),[2,new Promise((function(n){t.plugin(e,(function(){n(window.AMap)}))}))]}}))}))}function y(t,n,r){e.useEffect((function(){if(t){var e=function(e){r&&r(t,e)};return t.on(n,e),function(){t.off(n,e)}}}),[t,n,r])}function g(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function m(e,t){return e===t}function h(e,t){return!(!e&&t)&&(!(e&&!t)&&(e===t||e.length===t.length&&e.every((function(e,n){return e===t[n]}))))}function b(e,t){return!(!e&&t)&&(!(e&&!t)&&(e===t||e[0]===t[0]&&e[1]===t[1]))}function w(e,t){if(!e&&t)return!1;if(e&&!t)return!1;if(!e&&!t)return!0;if(e===t)return!0;if(e.length!==t.length)return!1;var n=g(e);return!!h(n,g(t))&&(2===n.length?e.every((function(e,n){return b(e,t[n])})):3===n.length&&e.every((function(e,n){return w(e,t)})))}function M(e,t,n){return void 0===n&&(n=1e-7),e===t||void 0!==e&&(void 0!==t&&Math.abs(e-t)<n)}function E(e,t){return e===t||void 0!==e&&(void 0!==t&&(M(e[0],t[0])&&M(e[1],t[1])))}function x(e,t){return null!=t&&e instanceof t}function A(e,t,n,r,o){"object"==typeof t&&(n=t.depth,r=t.prototype,o=t.includeNonEnumerable,t=t.circular);var i=[],u=[];return void 0===t&&(t=!0),void 0===n&&(n=1/0),function e(n,a){if(null===n)return null;if(0===a)return n;var s,c;if("object"!=typeof n)return n;if(x(n,Map))s=new Map;else if(x(n,Set))s=new Set;else if(x(n,Promise))s=new Promise((function(t,r){n.then((function(n){t(e(n,a-1))}),(function(t){r(e(t,a-1))}))}));else if(A.__isArray(n))s=[];else if(A.__isRegExp(n))s=new RegExp(n.source,O(n)),n.lastIndex&&(s.lastIndex=n.lastIndex);else if(A.__isDate(n))s=new Date(n.getTime());else if(x(n,Error))s=Object.create(n);else if(void 0===r){if(x(c=Object.getPrototypeOf(n),Object))return n;s=Object.create(c)}else s=Object.create(r),c=r;if(t){var f=i.indexOf(n);if(-1!=f)return u[f];i.push(n),u.push(s)}for(var l in x(n,Map)&&n.forEach((function(t,n){var r=e(n,a-1),o=e(t,a-1);s.set(r,o)})),x(n,Set)&&n.forEach((function(t){var n=e(t,a-1);s.add(n)})),n){Object.getOwnPropertyDescriptor(n,l)&&(s[l]=e(n[l],a-1));try{if(void 0===Object.getOwnPropertyDescriptor(n,l).set)continue;s[l]=e(n[l],a-1)}catch(e){if(e instanceof TypeError)continue;if(e instanceof ReferenceError)continue}}if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);for(l=0;l<d.length;l++){var p=d[l];(!(y=Object.getOwnPropertyDescriptor(n,p))||y.enumerable||o)&&(s[p]=e(n[p],a-1),Object.defineProperty(s,p,y))}}if(o){var v=Object.getOwnPropertyNames(n);for(l=0;l<v.length;l++){var y,g=v[l];(y=Object.getOwnPropertyDescriptor(n,g))&&y.enumerable||(s[g]=e(n[g],a-1),Object.defineProperty(s,g,y))}}return s}(e,n)}function C(e){return Object.prototype.toString.call(e)}function O(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}function P(t,n,r){e.useLayoutEffect((function(){if(t&&void 0!==r){var e=n.setter,o=n.getter,i=n.validate,u=void 0===i?function(){return!0}:i,a=n.equals,s=void 0===a?m:a,c=n.clone,f=void 0!==c&&c;if(e&&u(r)){if(o){var l=function(e,t){return"function"==typeof t?t(e):e[t]()}(t,o);if(!!s(r,l))return}var d=f?A(r):r;!function(e,t,n){if(t)"function"==typeof t?t(e,n):"function"==typeof e[t]&&e[t](n)}(t,e,d)}}}),[t,r])}function k(e){return e?Array.isArray(e)?[e[0],e[1]]:[e.lng,e.lat]:[]}function j(e){return Array.isArray(e)?e:e.southWest?[[e.southWest.lng,e.southWest.lat],[e.northEast.lng,e.northEast.lat]]:[[e.southwest.lng,e.southwest.lat],[e.northeast.lng,e.northeast.lat]]}function S(e){var t=new window.AMap.LngLat(e[0][0],e[0][1]),n=new window.AMap.LngLat(e[1][0],e[1][1]);return new window.AMap.Bounds(t,n)}function L(e){if(!Array.isArray(e))return[];var t=g(e);return 1===t.length||2===t.length?e.map(k):3===t.length?e.map((function(e){return e.map(k)})):[]}A.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},A.__objToStr=C,A.__isDate=function(e){return"object"==typeof e&&"[object Date]"===C(e)},A.__isArray=function(e){return"object"==typeof e&&"[object Array]"===C(e)},A.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===C(e)},A.__getRegExpFlags=O;var R=["children","lifeCycle","ref"];function I(e,t,n,r){void 0===t&&(t=!0),void 0===n&&(n=[]),void 0===r&&(r=[]);for(var o={},i=Object.keys(e),u=function(u){var a=i[u],s=e[a],c=R.some((function(e){return e===a}));return"extraOptions"===a?(Object.assign(o,s),"continue"):c||r.includes(a)||t&&/^on[A-Z]/.test(a)&&"function"==typeof s&&!n.includes(a)?"continue":void(o[a]=s)},a=0;a<i.length;++a)u(a);return o}function T(e,t,n,r){var o;"function"==typeof e[n]?e[n](r):"function"==typeof e.setOptions&&e.setOptions(((o={})[t]=r,o))}function D(e){return function(t,n){var r;t.setOptions(((r={})[e]=n,r))}}function _(t){var n=p(e.useState(void 0),2),r=n[0],o=n[1];return e.useEffect((function(){t().then((function(e){return o(e)}))}),[]),r}function z(t){var n,r=(n=p(e.useState(0),2)[1],e.useCallback((function(){return n((function(e){return e+1}))}),[]));return e.useMemo((function(){var e=t;return{get current(){return e},set current(t){t&&(e=t,r())}}}),[])}var q=r.default.createContext(void 0),B=e.forwardRef((function(t,n){var o=e.useRef(null),i=z(),u=_((function(){return s()}));e.useEffect((function(){if(u){var e=o.current;if(e){var n=c({},I(t)),r=t.center;Array.isArray(r)&&(n.center=A(r)),i.current=new u.Map(e,n)}return function(){i.current&&i.current.destroy()}}}),[u]);var a=i.current;return e.useImperativeHandle(n,(function(){return a}),[a]),P(a,{getter:function(e){return k(e.getCenter())},equals:E,setter:function(e,t){e.setCenter(t)}},t.center),P(a,{getter:"getZoom",equals:M,setter:"setZoom"},t.zoom),P(a,{getter:"getRotation",equals:M,setter:"setRotation"},t.rotation),P(a,{getter:"getPitch",equals:M,setter:"setPitch"},t.pitch),P(a,{setter:"setFeatures"},t.features),P(a,{setter:H("dragEnable")},t.dragEnable),P(a,{setter:H("zoomEnable")},t.zoomEnable),P(a,{setter:H("jogEnable")},t.jogEnable),P(a,{setter:H("pitchEnable")},t.pitchEnable),P(a,{setter:H("rotateEnable")},t.rotateEnable),P(a,{setter:H("animateEnable")},t.animateEnable),P(a,{setter:H("keyboardEnable")},t.keyboardEnable),P(a,{setter:H("doubleClickZoom")},t.doubleClickZoom),P(a,{setter:H("scrollWheel")},t.scrollWheel),P(a,{setter:"setDefaultCursor"},t.defaultCursor),P(a,{setter:"setMapStyle"},t.mapStyle),P(a,{setter:H("showIndoorMap")},t.showIndoorMap),y(a,"resize",t.onResize),y(a,"complete",t.onComplete),y(a,"click",t.onClick),y(a,"dblclick",t.onDblClick),y(a,"mapmove",t.onMapMove),y(a,"hotspotclick",t.onHotspotClick),y(a,"hotspotover",t.onHotspotOver),y(a,"hotspotout",t.onHotspotOut),y(a,"movestart",t.onMoveStart),y(a,"moveend",t.onMoveEnd),y(a,"zoomchange",t.onZoomChange),y(a,"zoomstart",t.onZoomStart),y(a,"zoomend",t.onZoomEnd),y(a,"mousemove",t.onMouseMove),y(a,"mousewheel",t.onMouseWheel),y(a,"mouseover",t.onMouseOver),y(a,"mouseout",t.onMouseOut),y(a,"mouseup",t.onMouseUp),y(a,"mousedown",t.onMouseDown),y(a,"rightclick",t.onRightClick),y(a,"dragstart",t.onDragStart),y(a,"dragging",t.onDragging),y(a,"dragend",t.onDragEnd),y(a,"touchstart",t.onTouchStart),y(a,"touchmove",t.onTouchMove),y(a,"touchend",t.onTouchEnd),r.default.createElement("div",{ref:o,className:"amap-react",style:{position:"relative",width:"100%",height:"100%"}},r.default.createElement(q.Provider,{value:a},t.children))}));function H(e){return function(t,n){var r;t.setStatus(((r={})[e]=n,r))}}function N(){return e.useContext(q)}function W(e){return _((function(){return v(e).then((function(){return window.AMap}))}))}B.AmapContext=q;e.createContext(void 0);function U(t,n){var r=t.init,o=t.destroy,i=void 0===o?function(e){"function"==typeof e.destroy&&e.destroy()}:o,u=t.add,a=void 0===u?function(e,t){"function"==typeof t.setMap&&t.setMap(e)}:u,s=t.remove,c=void 0===s?function(e,t){"function"==typeof t.setMap&&t.setMap(null)}:s,f=t.prepare,l=void 0===f?function(){return Promise.resolve()}:f,d=N(),v=p(e.useState(!1),2),y=v[0],g=v[1],m=p(e.useState(),2),h=m[0],b=m[1];return e.useEffect((function(){l().then((function(){return g(!0)}))}),[]),e.useEffect((function(){if(y&&d){var e=n.lifeCycle,t=r(AMap,d);return a(d,t),b(t),e&&e.created&&e.created(t),function(){c(d,t),e&&e.beforeDestroy&&e.beforeDestroy(t),i(t)}}}),[y,d]),h}var Z=["top-left","top-center","top-right","middle-left","center","middle-right","bottom-left","bottom-center","bottom-right"],F=["miter","round","bevel"],G=["butt","round","square"],J=["solid","dashed"];function K(e,t,n,r){void 0===n&&(n="show"),void 0===r&&(r="hide"),P(e,{setter:function(e,t){t?"function"==typeof n?n(e):e[n]():"function"==typeof r?r(e):e[r]()}},t.visible)}function V(e,t){P(e,{setter:function(e,t){T(e,"zIndex","setzIndex",t)}},t.zIndex)}var Y=D("bubble");function Q(e,t){y(e,"click",t.onClick)}function X(e,t){y(e,"mousemove",t.onMouseMove),y(e,"mouseover",t.onMouseOver),y(e,"mouseout",t.onMouseOut),y(e,"mousedown",t.onMouseDown),y(e,"mouseup",t.onMouseUp)}function $(e,t){y(e,"touchstart",t.onTouchStart),y(e,"touchmove",t.onTouchMove),y(e,"touchend",t.onTouchEnd)}function ee(e,t){K(e,t),V(e,t),function(e,t){P(e,{setter:Y},t.bubble)}(e,t),function(e,t){P(e,{setter:function(e,t){T(e,"cursor","setCursor",t)}},t.cursor)}(e,t),function(e,t){Q(e,t),P(e,{setter:"setClickable"},t.clickable),y(e,"dblclick",t.onDblClick),y(e,"rightclick",t.onRightClick)}(e,t),function(e,t){P(e,{setter:"setDraggable"},t.draggable),y(e,"dragstart",t.onDragStart),y(e,"dragging",t.onDragging),y(e,"dragend",t.onDragEnd)}(e,t),X(e,t),$(e,t)}var te=D("strokeColor"),ne=D("strokeOpacity"),re=D("strokeWeight"),oe=D("strokeStyle"),ie=D("strokeDasharray");function ue(e,t){ee(e,t),P(e,{setter:te},t.strokeColor),P(e,{setter:ne},t.strokeOpacity),P(e,{setter:re},t.strokeWeight),P(e,{setter:oe,validate:function(e){return J.includes(e)}},t.strokeStyle),P(e,{setter:ie,equals:h},t.strokeDasharray)}var ae=D("lineJoin"),se=D("lineCap"),ce=D("showDir"),fe=D("dirColor"),le=D("dirImg"),de=D("isOutline"),pe=D("outlineColor"),ve=D("borderWeight"),ye=D("geodesic");function ge(e,t){ue(e,t),P(e,{setter:ae,validate:function(e){return F.includes(e)}},t.lineJoin),P(e,{setter:se,validate:function(e){return G.includes(e)}},t.lineCap),P(e,{setter:ce},t.showDir),P(e,{setter:fe},t.dirColor),P(e,{setter:le},t.dirImg),P(e,{setter:de},t.isOutline),P(e,{setter:pe},t.outlineColor),P(e,{setter:ve},t.borderWeight),P(e,{setter:ye},t.geodesic)}var me="undefined"!=typeof BigInt64Array;function he(e,t){var n,r,o,i,u,a;if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){var s=e.length;if(s!=t.length)return!1;for(var c=s;0!=c--;)if(!he(e[c],t[c]))return!1;return!0}if(e instanceof Map){if(e.size!==t.size)return!1;try{for(var f=d(e.entries()),l=f.next();!l.done;l=f.next()){c=l.value;if(!t.has(c[0]))return!1}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var p=d(e.entries()),v=p.next();!v.done;v=p.next()){if(!he((c=v.value)[1],t.get(c[0])))return!1}}catch(e){o={error:e}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}return!0}if(e instanceof Set){if(e.size!==t.size)return!1;try{for(var y=d(e.entries()),g=y.next();!g.done;g=y.next()){c=g.value;if(!t.has(c[0]))return!1}}catch(e){u={error:e}}finally{try{g&&!g.done&&(a=y.return)&&a.call(y)}finally{if(u)throw u.error}}return!0}if(e.constructor.BYTES_PER_ELEMENT&&(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array||me&&(e instanceof BigInt64Array||e instanceof BigUint64Array))){var m=e.length;if(m!=t.length)return!1;for(c=m;0!=c--;)if(e[c]!==t[c])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var h=Object.keys(e),b=h.length;if(b!==Object.keys(t).length)return!1;for(c=b;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,h[c]))return!1;for(c=b;0!=c--;){var w=h[c];if(!he(e[w],t[w]))return!1}return!0}return e!=e&&t!=t}function be(e){return e||[]}function we(t,n){var o=W(t.plugins),i=p(function(){var t=z(),n=e.useMemo((function(){var e={created:function(e){t.current=e},beforeDestroy:function(e){t.current=void 0}};return function(t){var n=r.default.Children.only(t.children);return n?r.default.cloneElement(n,{lifeCycle:e}):null}}),[]);return[t.current,n]}(),2),u=i[0],a=i[1],s=z();return e.useEffect((function(){var e=s.current;if(o)if(u){if(!e){var r=t.init(u);return s.current=r,void r.on(t.events,(function(e){var t=n.onChange;(void 0===t?function(){}:t)(e.target)}))}n.enabled?e.open():e.close()}else e&&("function"==typeof e.destroy&&e.destroy(),s.current=void 0)}),[o,u,s.current,n.enabled]),e.useEffect((function(){return function(){var e=s.current;e&&("function"==typeof e.destroy&&e.destroy(),s.current=void 0)}}),[]),[s.current,a]}function Me(e,t){P(e,{setter:function(e,t){T(e,"opacity","setOpacity",t)}},t.opacity)}function Ee(e,t){P(e,{equals:b,setter:function(e,t){T(e,"zooms","setZooms",t)}},t.zooms)}function xe(e,t){K(e,t),V(e,t),Me(e,t),Ee(e,t)}var Ae=r.default.forwardRef((function(t,n){var r=U({init:function(e,n){var r=c(c({},I(t)),{bounds:S(t.bounds)});return new e.CanvasLayer(r)}},t);return e.useImperativeHandle(n,(function(){return r}),[r]),xe(r,t),P(r,{setter:function(e,t){e.setBounds(S(t))},clone:!0},t.bounds),P(r,{setter:"setCanvas"},t.canvas),null})),Ce=D("fillColor"),Oe=D("fillOpacity");function Pe(e,t){ue(e,t),P(e,{setter:Ce},t.fillColor),P(e,{setter:Oe},t.fillOpacity)}function ke(e,t){Pe(e,t),P(e,{getter:function(e){return k(e.getCenter())},setter:function(e,n){if(n){if(t.draggable)if(E(n,k(e.getCenter())))return;e.setCenter([n[0],n[1]])}},clone:!0,equals:b},t.center),P(e,{setter:"setRadius"},t.radius)}function je(e,t){var n=U(c(c({},e),{add:function(e,t){e.addControl(t)},remove:function(e,t){e.removeControl(t)}}),t);return K(n,t),n}var Se=r.default.forwardRef((function(t,n){var r=je({prepare:function(){return v("AMap.ControlBar")},init:function(e){var n=I(t);return new e.ControlBar(n)}},t);return e.useImperativeHandle(n,(function(){return r}),[r]),null}));function Le(e,t){K(e,t),V(e,t),Me(e,t),Ee(e,t),P(e,{setter:"setStyles"},t.styles)}var Re=r.default.forwardRef((function(t,n){var r=U({prepare:function(){return v("AMap.DistrictLayer")},init:function(e){var n=c({},I(t));return"soc"in n&&(n.SOC=n.soc,delete n.soc),new e.DistrictLayer.Country(n)}},t);return e.useImperativeHandle(n,(function(){return r}),[r]),Le(r,t),P(r,{setter:"setSOC"},t.soc),null})),Ie=r.default.forwardRef((function(t,n){var r=U({init:function(e,n){var r=document.createElement("canvas"),o=c(c({},I(t)),{render:function(){return t.render(r,n)}});return new e.CustomLayer(r,o)}},t);return e.useImperativeHandle(n,(function(){return r}),[r]),xe(r,t),null}));function Te(e,t){K(e,t),V(e,t),Me(e,t),Ee(e,t)}var De=r.default.forwardRef((function(t,n){var r=je({prepare:function(){return v("AMap.HawkEye")},init:function(e){var n=I(t);return new e.HawkEye(n)}},t);return e.useImperativeHandle(n,(function(){return r}),[r]),P(r,{setter:function(e,t){t?e.open():e.close()}},t.isOpen),null})),_e=e.forwardRef((function(n,r){var o=N(),i=n.visible,u=void 0===i||i,a=e.useMemo((function(){return document.createElement("div")}),[]),s=U({init:function(e){var t=c(c({},I(n,!0,[],["className","style"])),{position:A(n.position)});return new e.InfoWindow(t)},add:function(e,t){if(t.setMap(e),u){var n=k(t.getPosition());t.open(e,n)}}},n);return e.useImperativeHandle(r,(function(){return s}),[s]),e.useEffect((function(){a.className=n.className||""}),[n.className]),e.useEffect((function(){a.style.cssText="",Object.assign(a.style,n.style)}),[n.style]),P(s,{setter:function(e,t){e.setSize(new AMap.Size(t[0],t[1]))}},n.size),P(s,{setter:"setAnchor",validate:function(e){return Z.includes(e)}},n.anchor),P(s,{setter:function(e,t){e.setOffset(new window.AMap.Pixel(t[0],t[1]))}},n.offset),P(s,{getter:function(e){return k(e.getPosition())},equals:E,setter:function(e,t){e.getIsOpen()?e.open(e.getMap(),t):e.setPosition(t)}},n.position),P(s,{setter:function(e,t){n.isCustom||e.setContent(t)}},n.content),P(s,{setter:function(e,t){if(o)if(t){var n=k(e.getPosition());e.open(o,n)}else e.close()}},n.visible),y(s,"open",n.onOpen),y(s,"close",n.onClose),n.isCustom?(s&&(s.setContent(a),u&&s.open(s.getMap(),n.position)),t.createPortal(n.children,a)):null})),ze=r.default.createContext(void 0),qe=e.forwardRef((function(t,n){var r=e.useContext(ze),o=U({init:function(e){return new e.LabelMarker(c(c({},I(t)),{position:A(t.position)}))},add:function(e,t){if(!r)throw new Error("LabelMarker 必须与 LabelsLayer 配合使用");r.add(t)},remove:function(e,t){if(!r)throw new Error("LabelMarker 必须与 LabelsLayer 配合使用");r.remove(t)}},t);return e.useImperativeHandle(n,(function(){return o}),[o]),K(o,t),V(o,t),Me(o,t),Ee(o,t),Q(o,t),X(o,t),$(o,t),P(o,{setter:"setName"},t.name),P(o,{setter:"setRank"},t.rank),P(o,{equals:b,setter:function(e,t){t&&(E(t,k(e.getPosition()))||e.setPosition([t[0],t[1]]))}},t.position),P(o,{setter:"setIcon"},t.icon),P(o,{setter:"setText"},t.text),null})),Be=r.default.forwardRef((function(t,n){var r=je({prepare:function(){return v("AMap.MapType")},init:function(e){var n=I(t);return new e.MapType(n)}},t);return e.useImperativeHandle(n,(function(){return r}),[r]),null}));function He(e,t){ee(e,t),Ee(e,t),P(e,{getter:function(e){return k(e.getPosition())},equals:E,setter:function(e,t){e.setPosition(t)}},t.position),P(e,{setter:"setTitle"},t.title),P(e,{equals:b,setter:function(e,t){var n;t&&(E(t,(n=e.getOffset(),Array.isArray(n)?[n[0],n[1]]:[n.x,n.y]))||e.setOffset(new window.AMap.Pixel(t[0],t[1])))}},t.offset),P(e,{setter:"setAnchor",validate:function(e){return Z.includes(e)}},t.anchor),P(e,{equals:M,setter:"setAngle",getter:"getAngle"},t.angle),y(e,"moving",t.onMoving),y(e,"moveend",t.onMoveEnd),y(e,"movealong",t.onMoveAlong)}var Ne=e.forwardRef((function(n,r){var o=e.useMemo((function(){return document.createElement("div")}),[]),i=U({init:function(e){var t=n.position,r=c(c({},I(n)),{position:A(t)});return r.icon&&(r.icon=We(r.icon)),new e.Marker(r)},destroy:function(e){e&&"function"==typeof e.stopMove&&e.stopMove()}},n);return e.useImperativeHandle(r,(function(){return i}),[i]),e.useEffect((function(){o.className=n.className||""}),[n.className]),e.useEffect((function(){o.style.cssText="",Object.assign(o.style,n.style)}),[n.style]),He(i,n),P(i,{setter:function(e,t){if(t){var n=We(t);e.setIcon(n)}}},n.icon),P(i,{setter:function(e,t){t&&e.setLabel(function(e){if(!e)return;var t=c({},e);Array.isArray(t.offset)&&(t.offset=new window.AMap.Pixel(t.offset[0],t.offset[1]));return t}(t))}},n.label),n.children?(i&&i.setContent(o),t.createPortal(n.children,o)):null}));function We(e){return"string"==typeof e?e:new window.AMap.Icon(e)}function Ue(e,t){P(e,{setter:function(e,n){if(t.draggable&&w(L(e.getPath()),n))return;e.setPath(n)},getter:function(e){return L(e.getPath())},clone:!0,equals:w},t.path)}var Ze=r.default.forwardRef((function(t,n){var r=U({prepare:function(){return v("AMap.DistrictLayer")},init:function(e){var n=c({},I(t));return new e.DistrictLayer.Province(n)}},t);return e.useImperativeHandle(n,(function(){return r}),[r]),Le(r,t),P(r,{setter:"setAdcode",equals:function(e,t){return e===t||!(!Array.isArray(e)||!Array.isArray(t))&&h(e,t)}},t.adcode),null}));function Fe(e,t){return!(!e||!t)&&(M(e[0][0],t[0][0])&&M(e[0][1],t[0][1])&&M(e[1][0],t[1][0])&&M(e[1][1],t[1][1]))}var Ge=r.default.forwardRef((function(t,n){var r=je({prepare:function(){return v("AMap.Scale")},init:function(e){var n=I(t);return new e.Scale(n)}},t);return e.useImperativeHandle(n,(function(){return r}),[r]),null})),Je=r.default.forwardRef((function(t,n){var r=je({prepare:function(){return v("AMap.ToolBar")},init:function(e){var n=I(t);return new e.ToolBar(n)}},t);return e.useImperativeHandle(n,(function(){return r}),[r]),null})),Ke=r.default.forwardRef((function(t,n){var r=U({prepare:function(){return v("AMap.DistrictLayer")},init:function(e){var n=c({},I(t));return new e.DistrictLayer.World(n)}},t);return e.useImperativeHandle(n,(function(){return r}),[r]),Le(r,t),null}));exports.Amap=B,exports.BezierCurve=function(e){var t=U({init:function(t){var n=c({},I(e));return new t.BezierCurve(n)}},e);return ge(t,e),P(t,{setter:function(t,n){if(e.draggable&&he(be(t.getPath()),n))return;t.setPath(n)},getter:function(e){return be(e.getPath())},clone:!0,equals:he},e.path),r.default.createElement("div",{className:"amap-react-placeholder bezier-curve",style:{display:"none"}})},exports.BezierCurveEditor=function(e){var t=p(we({plugins:"AMap.BezierCurveEditor",events:["addnode","adjust","removenode","add"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.BezierCurveEditor(t.getMap(),t,r)}},e),2)[1];return r.default.createElement(t,c({},e))},exports.CanvasLayer=Ae,exports.Circle=function(e){return ke(U({init:function(t){var n=c({},I(e));return new t.Circle(n)}},e),e),null},exports.CircleEditor=function(e){var t=p(we({plugins:"AMap.CircleEditor",events:["addnode","adjust","move","add","end"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.CircleEditor(t.getMap(),t,r)}},e),2)[1];return r.default.createElement(t,c({},e))},exports.CircleMarker=function(e){return ke(U({init:function(t){var n=c({},I(e));return new t.CircleMarker(n)}},e),e),null},exports.ControlBar=Se,exports.CountryLayer=Re,exports.CustomLayer=Ie,exports.Ellipse=function(e){var t=U({init:function(t){var n=c({},I(e));return new t.Ellipse(n)}},e);return Pe(t,e),P(t,{setter:function(t,n){if(e.draggable&&E(n,k(t.getCenter())))return;t.setCenter(n)},getter:function(e){return k(e.getCenter())},clone:!0,equals:E},e.center),P(t,{setter:function(e,t){E(t,e.getRadius())||e.setRadius(t)},clone:!0,equals:E},e.radius),null},exports.EllipseEditor=function(e){var t=p(we({plugins:"AMap.EllipseEditor",events:["addnode","adjust","move","add","end"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.EllipseEditor(t.getMap(),t,r)}},e),2)[1];return r.default.createElement(t,c({},e))},exports.FlexibleLayer=function(e){return Te(U({init:function(t){var n=c({},I(e));return new t.TileLayer.Flexible(n)}},e),e),null},exports.HawkEye=De,exports.ImageLayer=function(e){var t=U({init:function(t){var n=c(c({},I(e)),{bounds:S(e.bounds)});return new t.ImageLayer(n)}},e);return xe(t,e),P(t,{setter:function(e,t){e.setBounds(S(t))},clone:!0},e.bounds),P(t,{setter:"setImageUrl"},e.url),null},exports.InfoWindow=_e,exports.LabelMarker=qe,exports.LabelsLayer=function(e){var t=U({init:function(t){var n=c({},I(e));return new t.LabelsLayer(n)}},e);return K(t,e),V(t,e),Me(t,e),Ee(t,e),P(t,{setter:"setCollision"},e.collision),P(t,{setter:"setAllowCollision"},e.allowCollision),r.default.createElement(ze.Provider,{value:t},t&&e.children)},exports.MapType=Be,exports.Marker=Ne,exports.Polygon=function(e){var t=U({init:function(t){var n=c({},I(e));return new t.Polygon(n)}},e);return Pe(t,e),Ue(t,e),null},exports.PolygonEditor=function(e){var t=p(we({plugins:"AMap.PolygonEditor",events:["addnode","adjust","move","add","end"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.PolygonEditor(t.getMap(),t,r)}},e),2)[1];return r.default.createElement(t,c({},e))},exports.Polyline=function(e){var t=U({init:function(t){var n=c({},I(e));return new t.Polyline(n)}},e);return ge(t,e),Ue(t,e),null},exports.PolylineEditor=function(e){var t=p(we({plugins:"AMap.PolylineEditor",events:["addnode","adjust","removenode","add","end"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.PolylineEditor(t.getMap(),t,r)}},e),2)[1];return r.default.createElement(t,c({},e))},exports.ProvinceLayer=Ze,exports.Rectangle=function(e){var t=U({init:function(t){var n=c(c({},I(e)),{bounds:S(e.bounds)});return new t.Rectangle(n)}},e);return Pe(t,e),P(t,{setter:function(t,n){if(e.draggable&&Fe(j(t.getBounds()),n))return;t.setBounds(S(n))},getter:function(e){return j(e.getBounds())},clone:!0,equals:Fe},e.bounds),null},exports.RectangleEditor=function(e){var t=p(we({plugins:"AMap.RectangleEditor",events:["addnode","adjust","move","add","end"],init:function(t){var n=e.opts,r=void 0===n?{}:n;return new AMap.RectangleEditor(t.getMap(),t,r)}},e),2)[1];return r.default.createElement(t,c({},e))},exports.RoadNetLayer=function(e){return Te(U({init:function(t){var n=c({},I(e));return new t.TileLayer.RoadNet(n)}},e),e),null},exports.SatelliteLayer=function(e){return Te(U({init:function(t){var n=c({},I(e));return new t.TileLayer.Satellite(n)}},e),e),null},exports.Scale=Ge,exports.Text=function(e){var t=U({init:function(t){var n=c({},I(e));return new t.Text(n)},destroy:function(e){e&&"function"==typeof e.stopMove&&e.stopMove()}},e);return He(t,e),P(t,{setter:"setText"},e.text),P(t,{setter:"setStyle"},e.style),null},exports.TileLayer=function(e){var t=U({init:function(t){var n=c({},I(e));return new t.TileLayer(n)}},e);return Te(t,e),P(t,{setter:"setTileUrl"},e.tileUrl),null},exports.Toolbar=Je,exports.TrafficLayer=function(e){return Te(U({init:function(t){var n=c({},I(e));return new t.TileLayer.Traffic(n)}},e),e),null},exports.WorldLayer=Ke,exports.config=o,exports.loadAmap=s,exports.loadPlugins=v,exports.useAmap=N,exports.useAmapComponent=function(t,n){void 0===n&&(n=[]);var r=p(e.useState(null),2),o=r[0],i=r[1],u=W(n),a=N();return e.useLayoutEffect((function(){if(a&&u){var e=t(u,a),n=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?e[1]:function(){"function"==typeof n.hide&&n.hide(),"function"==typeof n.setMap&&n.setMap(null),a.remove(n)};return i(n),function(){r(),i(null)}}}),[a,u]),o},exports.useAmapEvents=function(t,n){var r=N();e.useEffect((function(){if(r){var e=function(e){n(r,e)};Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++)r.on(t[o],e);return function(){for(var n=0;n<t.length;n++)r.off(t[n],e)}}}),[r])},exports.usePlugins=W;

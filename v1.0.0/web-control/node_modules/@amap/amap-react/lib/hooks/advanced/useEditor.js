"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../_virtual/_tslib.js"),r=require("react"),t=require("../utils/useReactiveRef.js"),u=require("../../usePlugins.js"),n=require("../utils/useCaptureChild.js");exports.default=function(i,o){var s=u.default(i.plugins),f=e.__read(n.default(),2),c=f[0],a=f[1],d=t.default();return r.useEffect((function(){var e=d.current;if(s)if(c){if(!e){var r=i.init(c);return d.current=r,void r.on(i.events,(function(e){var r=o.onChange;(void 0===r?function(){}:r)(e.target)}))}o.enabled?e.open():e.close()}else e&&("function"==typeof e.destroy&&e.destroy(),d.current=void 0)}),[s,c,d.current,o.enabled]),r.useEffect((function(){return function(){var e=d.current;e&&("function"==typeof e.destroy&&e.destroy(),d.current=void 0)}}),[]),[d.current,a]};

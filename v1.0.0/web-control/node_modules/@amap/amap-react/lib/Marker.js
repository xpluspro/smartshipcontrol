"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./_virtual/_tslib.js"),t=require("react"),n=require("./utils/clone.js"),r=require("./hooks/props.js"),o=require("./utils/options.js"),s=require("./hooks/component.js"),i=require("react-dom"),u=require("./hooks/common/point.js"),a=t.forwardRef((function(a,f){var l=t.useMemo((function(){return document.createElement("div")}),[]),p=s.default({init:function(t){var r=a.position,s=e.__assign(e.__assign({},o.getInitialOptionsFromProps(a)),{position:n.default(r)});return s.icon&&(s.icon=c(s.icon)),new t.Marker(s)},destroy:function(e){e&&"function"==typeof e.stopMove&&e.stopMove()}},a);return t.useImperativeHandle(f,(function(){return p}),[p]),t.useEffect((function(){l.className=a.className||""}),[a.className]),t.useEffect((function(){l.style.cssText="",Object.assign(l.style,a.style)}),[a.style]),u.default(p,a),r.useBindProp(p,{setter:function(e,t){if(t){var n=c(t);e.setIcon(n)}}},a.icon),r.useBindProp(p,{setter:function(t,n){n&&t.setLabel(function(t){if(!t)return;var n=e.__assign({},t);Array.isArray(n.offset)&&(n.offset=new window.AMap.Pixel(n.offset[0],n.offset[1]));return n}(n))}},a.label),a.children?(p&&p.setContent(l),i.createPortal(a.children,l)):null}));function c(e){return"string"==typeof e?e:new window.AMap.Icon(e)}exports.default=a;

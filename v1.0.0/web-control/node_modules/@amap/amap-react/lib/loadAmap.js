"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./config.js"),r=require("./utils/defer.js"),a=require("./utils/url.js"),d=r.default(),t={ready:!1,loaded:!1},i=d.promise;exports.default=function(){if(!t.loaded){if(t.loaded=!0,window.AMap)return d.resolve(window.AMap),i;var r=document.createElement("script"),o="amap_react_"+Date.now()+"_"+Math.ceil(1e4*Math.random());window[o]=function(){t.ready||(t.ready=!0,d.resolve(window.AMap))};var u=a.buildQuery({v:e.default.version,key:e.default.key,callback:o,plugin:e.default.plugins.join(",")}),l=e.default._prefix+"?"+u;r.src=l,document.body.appendChild(r)}return i},exports.ready=i;
